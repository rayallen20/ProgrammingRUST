# 第3章 基本数据类型

与JavaScript或Python等动态类型语言相比,Rust需要你提前做出更多规划.

你必须明确写出各个函数参数和返回值的类型、结构体字段以及一些其他结构体.然而,Rust的以下两个特性让这项工作比你预想的要轻松一点儿:

- 基于已明确写出的类型,Rust的**类型推断**会帮你推断出剩下的大部分类型

例如:

```rust
fn build_vector() ->Vec<i16> {
    let mut v: Vec<i16> = Vec::<i16>::new();
    v.push(12i16);
    v.push(20i16);
    v
}
```

很明显,在已知函数返回值类型的前提条件下,其返回值`v`只能是`Vec<i16>`,进而可以得知,该向量内的所有元素的类型必为`i16`,因此可以简写为:

```rust
fn build_vector() ->Vec<i16> {
    let mut v = Vec::new();
    v.push(12);
    v.push(20);
    v
}
```

- 函数可以是泛型的:单个函数就可以处理许多不同类型的值

在Python和JavaScript中,所有函数都天生如此:函数可以对任何具备该函数所要求的属性和方法的值进行操作.这就是通常称为鸭子类型的特征:如果它叫得像鸭子,走路像鸭子,那它就是鸭子.

但也正是这种灵活性让这些语言很难及早发现类型错误,而测试通常是发现此类错误的唯一途径.Rust的泛型函数为该语言提供了一定程度的灵活性,而且仍然能在编译期捕获所有的类型错误.